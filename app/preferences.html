<ion-view title="Preferences">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <ion-list>
      <ion-item class="item item-image {{currentPage.section}}" href="#{{currentPage.state}}">
        <item-image section="currentPage.section" page="currentPage"/>
      </ion-item>
    </ion-list>
    <fieldset ng-disabled="isSaving">
    <form ng-submit="updateProfile(profile)" novalidate>
      <div class="list list-inset">
        <div id="messages" class="alert alert-success" ng-show="messages" ng-bind="messages"></div>
        <div ng-show="progress.active()" style="color: red; font-size: 50px;" translate>Saving&hellip;</div>
        <label class="item item-input item-select">
          <span class="input-label" translate>Language</span>
          <select ng-model="profile.lang"
                  ng-options="l[0] as l[1] for l in languages">
          </select>
          </label>
        <label class="item item-input">
          <span class="input-label" translate>Avatar</span>
          <img class="avatar" ng-src="{{profile.avatar}}" />
          <button type='button' ng-click="getPhoto()" class="button button-small ac-inline-button" translate>Select Photo</button>
        </label>
        <button type="submit" ng-disabled="progress.active()" class="button button-block button-positive icon-right" translate>Save  <span><i class="ion-ios7-reloading" ng-cloak ng-show="isSaving"></i></span></button>
      </div>
    </form>
    </formset>
  </ion-content>
</ion-view>
